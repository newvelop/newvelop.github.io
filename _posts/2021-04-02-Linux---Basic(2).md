---
date: 2021-04-02 02:29:39
layout: post
title: "Linux-Basic(2)"
subtitle:
description:
image:
optimized_image:
category:
tags:
- linux
author: newvelop
paginate: false
---
리눅스의 기본 커맨드중 파일과 관련한 커맨드를 정리해본다.

### 파일 검색
#### find
기본적인 파일을 찾는 커맨드 이다
- find {경로} {표현식} : 해당 경로에 있는 표현식에 맞는 파일들을 찾는다.
  - -name {이름} : 이름에 맞는 파일들을 찾는다
    - -name *v : v로 끝나는 파일들을 찾음
  - -iname {이름} : 대소문자를 무시하고 이름에 맞는 파일들을 찾는다.
  - -mtime : 변경된 시간을 기반으로 파일을 찾는다. +옵션일 경우 해당 +보다 더 뒤에 수정된 파일들을 찾으며, -일 경우 해당 -보다 더 최근에 수정된 파일들을 찾는다.
  - -size : 해당 사이즈에 맞는 파일들을 찾는다. + 옵션일 경우 이상, - 옵션일 경우 이하로 적용한다.
  - -newer {파일명} : 해당 파일보다 최신의 파일들을 찾는다.

find . -exec file {} \; 를 수행할 경우 해당 디렉토리의 모든 파일 대상으로, file 커맨드를 실행하여 해당 파일의 타입을 출력한다.

#### locate
find보다 빠른 수행시간을 가진 커맨드이다. 시스템의 인덱스 기반으로 수행되기 때문에 find보다 빠른 것이며, index는 주기적으로 생성된다. 이는 실시간으로 반영되는 것이 아니기 때문에 바로 얼마전에 생성한 파일을 찾고싶을 경우는 locate이 아니라 find를 사용하는게 좋다.

![screensh](../assets/img/2021-04-02-Linux---Basic(2)/find-locate.PNG)

### 텍스트 보기 및 편집
- cat {파일명} : 해당 파일의 택스트 전체 보기
- more {파일명} : 파일을 페이지 별로 보기. 스페이스는 다음 페이지로, 엔터는 다음줄로 가는 명령
- less {파일명} : more과 비슷하게 페이지 별로 볼 수 잇으나 검색이 지원됨
- head {파일명} : 위에서 부터 몇줄까지 보여주는 명령어
  - -숫자 : 위에서부터 숫자 개수만큼 보여줌
- tail {파일명} : 밑에서부터 몇줄까지 보여주는 명령어
  - -숫자 : 밑에서부터 숫자 개수만큼 보여줌
  - -f {파일명} : 실시간으로 텍스트 새로 들어오는 걸 보여줌. 로그 볼때 좋음

nano {파일명} 을 통해서 nano 편집기를 이용해 텍스트 파일을 편집할 수 있다. nano가 pico를 복제한 것이기때문에 nano가 안될경우 pico를 사용하면 된다.

#### vi 편집기
대표적인 리눅스의 편집기인 vi 편집기에 대해서 알아본다.

vi {파일명} : vi 편집기로 해당 파일 편집모드
vim {파일명} : vi와 같으나 좀 더 기능이 많음
view {파일명} : vim을 읽기 전용 모드로 사용

vi 모드로 들어갔을 때 명령어에 대해 하나씩 살펴본다
명령어 모드(파일 첨들어갔을 때나 esc 누른 상태)
- h : 커서 왼쪽으로 한칸 이동
- j : 커서 위로 한줄 이동
- k : 커서 아래로 한줄 이동
- l : 커서 오른쪽으로 한칸 이동
- w : 커서 한 단어 오른쪽으로 이동
- b : 커서 한 단어 왼쪽으로 이동
- ^ : 파일 맨 윗줄로 이동
- $ : 파일 맨 아랫줄로 이동

삽입 모드 들어가는 명령어
- i : 현재 커서에 글자 삽입할 수 있는 상태로 변경
- I : 현재 커서가 있는 라인의 맨 처음에 글자 삽입할 수 있는 상태로 변경
- a : 현재 커서의 오른쪽에 삽입할 수 있는 상태로 변경
- A : 현재 커서가 있는 라인의 맨 끝에 삽입할 수 잇는 상태로 변경

라인 모드(파일 첨들어갔을 때나 esc 누른 상태에서 ':'를 누른 상태)
- :w : 파일 저장
- :w! : 파일 강제 저장 (파일이 본인 소유일때만 동작함)
- :q : 편집모드 종료. 파일 수정했을 경우 동작하지 않음
- :q! : 파일을 수정했을 경우 저장없이 강제 종료
- :wq! : 저장 후 종료
- :x : :wq!와 동일
- :{숫자} : 해당 숫자 라인으로 커서가 이동
- :$ : 파일 끝으로 커서가 이동
- :set nu : 각 줄마다 라인 넘버 표시
- :set nonu : 각 줄마다 라인 넘버 표시 해제
- :help : 도움 명령어

삭제
- x : 현재 문자 삭제
- dw : 단어 삭제. d5w일 경우 5단어 삭제
- dd : 라인 삭제. 5dd일 경우 5줄 삭제
- D : 현재 위치부터 파일끝까지 삭제

바꾸기
- r : 현재 커서의 문자 변경
- cw : 단어 바꾸기(현재 단어를 지우고 삽입 모드로 변경)
- cc : 현재 라인 바꾸기(현재 라인을 지우고 삽입 모드로 변경)
- c$ : 현재위치에서 끝까지 바꾸기(끝까지 지우고 삽입모드로)
- C : c$와 동일
- ~ : 문자의 대소문자 변경

복사/붙여넣기
- yy : 현재 라인 복사
- y{위치} : 위치만큼 복사. y3w일 경우 현재 위치에서 3단어만큼 복사
- p : 붙여넣기

실행취소/되돌리기
- u : 취소
- ctrl + r : 다시

검색
- / : 현재 위치부터 아래로 패턴에 맞는 단어 검색
- ? : 현재 위치부터 위로 패턴에 맞는 단어 검색

#### emacs 편집기
- C-<문자> : 문서에 이 경우가 나올 경우, CTRL + 문자를 눌렀을 때를 의미
- M-<문자> : ALT + 문자를 눌렀을 때를 의미, 혹은 ESC 한번 누르고 문자를 눌렀을 때를 의미. ALT보단 ESC를 누르고 작업을 하는 게 좋음
  - C-H : 도움말
  - C-X 또는 C-C : 종료
  - C-X 또는 C-S : 저장
  - C-H T : 튜토리얼
  - C-H K <키> : 키에 대한 설명
  - C-P : 이전 라인
  - C-N : 다음 라인
  - C-B : 한문자 뒤로
  - C-F : 한문자 앞으로
  - M-F : 한 단어 앞으로
  - M-B : 한 단어 뒤로
  - C-A : 라인 맨앞으로
  - C-E : 라인 맨 뒤로
  - M-< : 파일 맨 앞으로
  - M-> : 파일 맨 뒤로
  - C-K : 잘라내기
  - C-Y : 붙여넣기
  - C-X U : 실행 취소
  - C-S : 뒤로 검색
  - C-R : 앞으로 검색
  - C-U N <커맨드> : N번만큼 커맨드 실행

#### 그래픽적인 에디터
- emacs
- gedit
- gvim
- kedit
- AbitWord : 마이크로 소프트의 워드 대체재
- LibreOffice : 오피스 대체재
- Kate : 소스코드 편집기
이렇게 4개가 있다. emacs는 단순 텍스트 에디터 이기도 하지만 그래픽 모드도 있다

### 파일 삭제, 복사, 이동, 압축 및 디스크 용량
삭제
- rm {파일} : 파일 삭제
  - -r {디렉토리} : 디렉토리의 하위 파일까지 전부 삭제
  - -f {파일} : 강제 삭제

복사
- cp {복사할 파일} {붙여넣을 파일명}
  - -i : 붙여넣을 파일명이 이미 존재할 경우, 덮어쓸건지 물어봄
  - -r {복사할 디렉토리} {목적지} : 목적지로 디렉토리 전부 복사. 목적지가 현재 존재하지 않을 경우, 새로 생성

이동
- mv {이동할 파일} {목적지} : 목적지로 파일 이동
  - -i : 목적지가 이미 존재할 경우, 덮어쓸 건지 물어봄

정렬
- sort : 파일내의 텍스트 정렬
  - -k {필드 넘버} : 필드 넘버 기준으로 정렬함
  - -r : 역순으로 정렬
  - -u : 중복제거하고 정렬

압축
- tar {파일} : 파일 압축. 옵션을 - 써서 입력해도 인식은 하나 -를 잘 안쓰는 추세
  - c : tar 파일 생성
  - x : tar 파일 해제
  - t : 컨텐츠 리스트 표시
  - v : verbose 모드. 상세 내용 표시 모드라고 보면 될듯
  - z : 압축 사용
  - f {파일} : 해당 파일 사용
    - ex) tar cf a.tar a : a를 a.tar로 변경

zip확장자를 사용하고 싶을 경우 아래 것들을 사용
- gzip : 압축
- gunzip : 압축 해제
- gzcat : 압축된 파일 표시. 압축해제 하지 않음
- zcat : 압축된 파일을 압축 해제해서 표기. gunzip -c와 동일

디스크 사용량
- du : 바이트 단위로 디스크 사용량 표시
- du -k : kb 단위로 표시
- du -h : 사람이 읽기 쉽게 표시. gb 단위이면 g로, mb 단위이면 m으로 표기

참고
- linux-administration-bootcamp 강의